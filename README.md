# custom-geosite

Генератор файла `custom.dat` для v2ray/xray с пользовательскими списками доменов для маршрутизации трафика.

## Описание

Проект создает бинарный файл `custom.dat` в формате v2ray GeoSite из текстовых списков доменов. Позволяет категоризировать домены на группы (например, "direct" — обход прокси, "proxy" — маршрутизация через VPN) с поддержкой разных типов совпадений.

## Структура

- `lists/` — текстовые файлы со списками доменов (каждый файл = один тег в .dat)
  - `direct.txt` — домены для прямого подключения
  - `proxy.txt` — домены для маршрутизации через прокси
- `main.go` — генератор (без внешних зависимостей)
- `.github/workflows/build.yml` — автоматическая сборка и публикация артефактов

## Синтаксис списков доменов

```
# Комментарий

example.com              # domain: (по умолчанию) — хост и все поддомены
full:exact.com           # full: — точное совпадение
domain:sub.example.com   # domain: — явное указание типа
regex:^.*\.example\.com$ # regex: — регулярное выражение
```

## Использование

### Готовый файл

Можно использовать уже собранный файл без локальной сборки:

```
https://geofiles.bolotov.dev/custom.dat
```

В конфиге приложения указать правила:
```
ext:custom.dat:direct  # домены для прямого подключения
ext:custom.dat:proxy   # домены для маршрутизации через прокси
```

### Локальная сборка

1. Отредактировать файлы в `lists/` с нужными доменами
2. Запустить:
   ```bash
   go run .
   ```
3. Результат: `custom.dat` (готов к использованию в v2ray/xray конфиге)

### Подробная инструкция

[Статья с полной инструкцией по настройке](https://bolotov.dev/blog/2026/02/04/vpn-route#manual)

## Лицензия

MIT © 2026 Artem Bolotov